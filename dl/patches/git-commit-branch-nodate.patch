diff -Naur orig/src/get patched/src/get
--- orig/src/get	2016-03-17 15:02:15.995641129 +0100
+++ patched/src/get	2016-03-17 15:08:52.000000000 +0100
@@ -205,16 +205,29 @@
 			
 			cd ..
 			tar -zcv --force-local -f "$filename" "$tmpsub" || return
-		else  ## YYYYMMDD
+		elif [[ "${revarray[0]}" = "branch" ]]; then  ## branch:branchname
 			tmpsub="$(basename "$url")"
 			tmpsub=${tmpsub/.git/}
-			tmpsub=${tmpsub}"-"$rev
+			tmpsub=${tmpsub}"-"${revarray[1]}
 			mkdir -p "$tmpdir/$tmpsub"
 			cd "$tmpdir/$tmpsub"
 			
-			git init
-			git pull git://$url
-			git checkout $(git log --pretty=%H --before="${rev:0:4}-${rev:4:2}-${rev:6:2}" | head -n 1) || return
+			git clone "git://$url" "$tmpsub"
+			cd "$tmpsub"
+			git checkout "${revarray[1]}"
+
+ 			cd ..
+ 			tar -zcv --force-local -f "$filename" "$tmpsub" || return
+		else ## commit
+			tmpsub="$(basename "$url")"
+			tmpsub=${tmpsub/.git/}
+			tmpsub=${tmpsub}"-"${revarray[0]}
+			mkdir -p "$tmpdir/$tmpsub"
+			cd "$tmpdir/$tmpsub"
+
+			git clone "git://$url" "$tmpsub"
+			cd "$tmpsub"
+			git checkout "${revarray[0]}"
 			
 			cd ..
 			tar -zcv --force-local -f "$filename" "$tmpsub" || return
