diff -Naur orig/fluxbox-xdg-menu.py mod/fluxbox-xdg-menu.py
--- orig/fluxbox-xdg-menu.py	2015-02-07 19:20:00.000000000 +0100
+++ mod/fluxbox-xdg-menu.py	2015-04-01 16:51:23.624828381 +0200
@@ -1,5 +1,5 @@
 #!/usr/bin/env python
-# vim: noexpandtab:ts=4:sts=4
+# vim: noexpandtab:ts=4:sts=4: set fileencoding=UTF-8
 
 """Menu Generator for Fluxbox
 
@@ -29,12 +29,14 @@
 """
 
 __author__ = "Rudolf Kastl , Antonio Gomes, Michael Rice"
-__version__ = "$Revision: 1.2 $"
-__date__ = "$Date: 2006/10/09 23:20:10 $"
+__version__ = "$Revision: 13 $"
+__date__ = "$Date: 2010/01/20 21:50:10 $"
 __license__ = "GPL"
 
 
 import os,re,sys,glob,getopt
+reload(sys)
+sys.setdefaultencoding('utf-8')
 import xdg.Menu,xdg.DesktopEntry,xdg.IconTheme
 from os.path import isfile
 
@@ -44,42 +46,42 @@
 def header(wm="fluxbox"):
 	return """
 [begin] (Fluxbox)
-	[exec] (Web Browser) {htmlview}
-	[exec] (Email) {evolution}
-	[exec] (Terminal) {$TERM}
-	[exec] (Irc) {xchat}
+	[exec] (Terminal) {xterm} </usr/share/pixmaps/xterm-color_48x48.xpm>
 	[separator]\n"""
 
 def footer(wm="fluxbox"):
 	return """
-	[submenu] (Fluxbox Menu)
-		[config] (Configure)
-		[submenu] (System Styles) {Choose a style...}
+	[submenu] (Fluxbox Menü) </usr/share/icons/gnome/48x48/categories/applications-system.png> 
+		[config] (Beállítás) </usr/share/icons/gnome/48x48/categories/preferences-desktop.png>
+		[submenu] (Rendszer stílusok) {Choose a style...} </usr/share/icons/gnome/48x48/actions/gtk-about.png>
 			[stylesdir] (/usr/share/fluxbox/styles)
 			[stylesdir] (/usr/share/commonbox/styles/)
 		[end]
-		[submenu] (User Styles) {Choose a style...}
+		[submenu] (Saját stílusok) {Choose a style...} </usr/share/icons/gnome/48x48/actions/gtk-about.png>
 			[stylesdir] (~/.fluxbox/styles)
 		[end]
-		[workspaces]   (Workspace List)
-		[submenu] (Tools)
+		[workspaces]   (Munkaterületek) </usr/share/icons/gnome/48x48/status/dialog-question.png>
+		[submenu] (Eszközök) </usr/share/icons/gnome/48x48/categories/applications-utilities.png>
 			[exec] (Window name) {xprop WM_CLASS|cut -d \" -f 2|xmessage -file - -center}
 			[exec] (Screenshot - JPG) {import screenshot.jpg && display -resize 50% screenshot.jpg}
 			[exec] (Screenshot - PNG) {import screenshot.png && display -resize 50% screenshot.png}
-			[exec] (Run) {fbrun }
-			[exec] (Regen Menu) {fluxbox-generate_menu --with-icons}
+			[exec] (Parancs) {fbrun }
+			[exec] (Menügenerátor) {fluxbox-xdg-menu --with-icons}
 		[end]
-		[submenu] (Window)
+		[submenu] (Kezelőváltás) </usr/share/icons/gnome/48x48/status/gtk-dialog-info.png>
 			[restart] (kde) {startkde}
 			[restart] (openbox) {openbox}
 			[restart] (gnome) {gnome-session}
 		[end]
-		[exec] (Lock screen) {xscreensaver-command -lock}
-		[commanddialog] (Fluxbox Command)
-		[reconfig] (Reload config)
-		[restart] (Restart)
+		[exec] (Képernyőzár) {xscreensaver-command -lock} </usr/share/icons/gnome/48x48/actions/lock.png>
+		[commanddialog] (Fluxbox parancs) </usr/share/icons/gnome/48x48/actions/gtk-add.png>
+		[reconfig] (Beállítás frissítés) </usr/share/icons/gnome/48x48/actions/go-home.png>
 		[separator]
-		[exit] (Exit)
+		[restart] (Fluxbox újratöltés) </usr/share/icons/gnome/48x48/actions/reload.png>
+		[separator]
+		[exec] (Újraindítás) {systemctl reboot} </usr/share/icons/gnome/48x48/actions/redo.png>
+		[exec] (Kikapcsolás) {systemctl poweroff} </usr/share/icons/gnome/48x48/actions/system-shutdown.png>
+		[exit] (Kilépés) </usr/share/icons/gnome/48x48/actions/system-log-out.png>
 	[end]
 [end]\n"""	
 
@@ -98,7 +100,7 @@
 		e.g. gaim --> /usr/share/pixmaps/gaim.png
 		e.g. fart.png --> /usr/share/pixmaps/fart.png
 	"""
-	retval=str(xdg.IconTheme.getIconPath(icon, 48, theme))
+	retval=str(xdg.IconTheme.getIconPath(icon, 48, theme,["png","xpm"]))
 	if retval == "None":
 		retval=""
 
@@ -236,8 +238,8 @@
 		fsock = open(file,'w')
 		saveout = sys.stdout
 		sys.stdout = fsock
-
-	menu=xdg.Menu.parse()
+	menufile="lxde-applications.menu"
+	menu=xdg.Menu.parse(menufile)
 # is done automatically now
 #	menu.setLocale(lang)
 
