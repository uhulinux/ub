#!/bin/sh -eux

sed -i \
	-e "s:share/OGRE/docs:share/doc/ogre:" \
	Docs/CMakeLists.txt
sed -i \
	-e '/CONFIGURATIONS/s:CONFIGURATIONS Release.*::' \
	CMake/Utils/OgreConfigTargets.cmake

ub_compile \
	-DOGRE_FULL_RPATH=NO \
	-DOGRE_BUILD_PLUGIN_CG=TRUE \
	-DOGRE_INSTALL_DOCS=TRUE \
	-DOGRE_BUILD_SAMPLES=TRUE \
	-DOGRE_INSTALL_SAMPLES=TRUE \
	-DOGRE_INSTALL_SAMPLES_SOURCE=TRUE \
	-DOGRE_BUILD_RENDERSYSTEM_GL=TRUE \
	-DOGRE_BUILD_TESTS=FALSE \
	-DOGRE_BUILD_TOOLS=TRUE \
	-DOGRE_CONFIG_ENABLE_ZIP=TRUE \
	-DOGRE_BUILD_RENDERSYSTEM_GLES=FALSE
